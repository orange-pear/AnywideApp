<link rel="stylesheet" href="css/progressStyle.css">

<ion-view view-title="参与投票">
    <ion-content>

        <h3>{{data.voteInfo.voteTitle}}</h3>
        <h4>{{data.voteInfo.voteContent}}</h4>

        <br>

        <div ng-repeat="buf in data.voteInfo.voteWaitSumResultList">

            <div class="row" style="height:50px" ng-click="select($index)">

                <div ng-if = "!data.isVoted">
                    <button ng-class="{'true': 'ion-ios-checkmark button icon-left button-clear button-assertive', 'false': 'ion-ios-circle-outline button icon-left button-clear button-assertive'}[buf.select]">{{buf.voteOptionContent}}</button>
                </div>

                <div ng-if = "data.isVoted">
                    <button ng-if="data.voteInfo.optionId != buf.voteOptionId" class="button button-clear button-assertive">{{buf.voteOptionContent}}</button>
                    <button ng-if="data.voteInfo.optionId == buf.voteOptionId" class="button button-clear button-assertive">{{buf.voteOptionContent}}*</button>
                    
                </div>

            </div>

<!--             <div class="row" style="height:30px">
                <div class="col col-75 positive-bg light" style="height:22px"></div>
                <div class="col">
                    <span>{{buf.voteNumber}}</span>
                </div>
            </div> -->

            <div class="progress">
                <span class="green" style="{{getStyle($index)}}">
                    <span>{{buf.voteNumber}}</span>
                </span>
            </div>

        </div>


        <div class="row" ng-if="!data.isVoted">
            <button class="button button-block button-anywide " ng-click="vote()">投票</button>
        </div>

    </div>
</ion-content>
</ion-view>